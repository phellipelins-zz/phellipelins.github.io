"use strict";function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){var r;if(e)return"string"==typeof e?_arrayLikeToArray(e,t):"Map"===(r="Object"===(r=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(e,t):void 0}function _iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,o=new Array(t);r<t;r++)o[r]=e[r];return o}!function(y){gsap.registerPlugin(ScrollTrigger),gsap.registerPlugin(ScrollToPlugin),gsap.registerPlugin(TextPlugin),gsap.registerPlugin(CustomEase);function m(){var e=y(window).innerWidth(),t=y(".hero h1"),r=y(".hero h2"),o=y("#skills h3, #projects h3"),n="Me chamo Phellipe Lins",a="Creative frontend developer";e<=920&&(n="Phellipe Lins",a="Frontend developer"),gsap.to(t,{text:{value:n},duration:2,ease:"none"}),gsap.to(r,{text:{value:a},duration:2,delay:2,ease:"none"}),o.each(function(e,t){gsap.to(t,{text:{value:y(t).attr("data-text")},scrollTrigger:{trigger:t,start:"top bottom"},duration:1,ease:"none"})})}function e(){var e,t,r,o,a,i,l,c,s,u,p,n,d,g,f;e=.01*y(window).innerHeight(),t=.01*y(window).innerWidth(),document.documentElement.style.setProperty("--vh","".concat(e,"px")),document.documentElement.style.setProperty("--vw","".concat(t,"px")),y(window).on("scroll load resize",function(){e=.01*y(window).innerHeight(),t=.01*y(window).innerWidth(),document.documentElement.style.setProperty("--vh","".concat(e,"px")),document.documentElement.style.setProperty("--vw","".concat(t,"px"))}),r=y("#header"),o=114,y(window).on("scroll mousewhell",function(){var e=y(window).scrollTop();o<e?r.css("top","-114px"):r.css("top","0px"),o=e}),m(),y("[scroll-to]").on("click",function(e){e.preventDefault();e=y(e.target).attr("scroll-to"),e=y(e).offset().top;gsap.to(window,{scrollTo:{y:e},duration:.8})}),y(".skill").each(function(e,t){var r=y(t).find(".percentage"),o=y(t).find(".levels .level"),n=y(t).attr("data-experience"),a=Number(n.replace("%","")),i=Math.ceil(.05*a);gsap.to(r,{width:n,duration:1,ease:SteppedEase.config(10),scrollTrigger:{trigger:r.get(0),start:"bottom bottom"}}),ScrollTrigger.create({trigger:t,onEnter:function(){var e=o.slice(0,i);gsap.to(e,{backgroundColor:"black",stagger:.2,ease:SteppedEase.config(1)})}})}),fetch("data/projects.json").then(function(e){return e.json()}).then(function(e){return h.push.apply(h,_toConsumableArray(e.projects)),e.projects}).then(function(e){return v(e)}).then(function(){return w()}),a=y("body"),i=y("#header"),l=y(".projects"),c=l.offset().top,s=y(".project .topbar h4"),u=y(".project .text"),p=y(".gallery"),l.on("click",".project-card button",function(e){e.preventDefault();var t=y(e.target).attr("data-slug"),e=h.filter(function(e){return e.id===Number(t)})[0],r=e.id,o=e.name,n=e.description,e=e.images;r&&(s.text(o),u.text(n),e.forEach(function(e){var t=e.url,e=e.caption,t='\n        <div class="slide">\n          <div class="image" role="img" alt="" style="background-image: url({{url}})"></div>\n          <span class="caption">{{caption}}</span>\n        </div>'.replace("{{url}}",t).replace("{{caption}}",e);p.slick("slickAdd",t)}),p.slick("slickPlay"),gsap.to(window,{scrollTo:{y:c},duration:.3,onComplete:function(){a.css({height:y(window).innerHeight(),overflow:"hidden"}),gsap.to(l,{scrollTo:{x:y(window).innerWidth()},duration:.5,onComplete:function(){i.css("top","-114px")}})}}))}),n=y("body"),d=y(".projects"),g=y(".gallery"),d.on("click",".project .topbar button",function(){g.slick("slickRemove",null,null,!0),gsap.to(d,{scrollTo:{x:0},duration:.5,onComplete:function(){n.css({height:"auto",overflow:"auto"})}})}),y(".gallery").slick({centerMode:!0,centerPadding:"60px",slidesToShow:3,slidesToScroll:1,pauseOnHover:!1,pauseOnFocus:!1,infinite:!1,arrows:!1,dots:!1,autoplay:!0,autoplaySpeed:4e3,speed:1e3,ease:"ease-in",responsive:[{breakpoint:768,settings:{centerMode:!0,centerPadding:"40px",slidesToShow:3}},{breakpoint:480,settings:{slidesToShow:1}}]}),f=(new Date).getFullYear(),y(".footer .copyright .year").text(f)}var h=[],v=function(e){var r=y(".projects .list"),o=y(".projects .filter");e.forEach(function(e){e='<div class="project-card {{category}}" role="listitem">\n        <div class="image" role="img" alt="{{name}}" style="background-image: url({{cover}});"></div>\n        <div class="actions">\n          <a href="{{url}}" target="_blank">ir para o site</a>\n          <button data-slug="{{id}}">ver projeto</button>\n        </div>\n      </div>'.replace("{{id}}",e.id).replace("{{category}}",e.category).replace("{{name}}",e.name).replace("{{url}}",e.url).replace("{{cover}}",e.cover);r.append(e)}),r.isotope({columnWidth:".project-card",itemSelector:".project-card",layoutMode:"fitRows",percentPosition:!0}),o.on("click",function(e){e.preventDefault();var e=y(e.target),t=e.attr("data-filter");o.removeClass("active"),e.addClass("active"),r.isotope({filter:t})})},w=function(){y("#projects .project-card").each(function(e,t){gsap.to(t,{opacity:1,duration:1.3,ease:CustomEase.create("custom","M0,0,C0,0,0.047,0.237,0.05,0.25,0.052,0.237,0.097,0.01,0.1,0,0.102,0.015,0.148,0.337,0.15,0.35,0.151,0.337,0.198,0.011,0.2,0,0.201,0.014,0.248,0.435,0.25,0.45,0.251,0.438,0.298,0.111,0.3,0.1,0.301,0.114,0.348,0.535,0.35,0.55,0.351,0.538,0.398,0.211,0.4,0.2,0.401,0.214,0.448,0.635,0.45,0.65,0.451,0.638,0.498,0.311,0.5,0.3,0.501,0.314,0.548,0.735,0.55,0.75,0.551,0.738,0.598,0.411,0.6,0.4,0.601,0.414,0.648,0.835,0.65,0.85,0.651,0.838,0.698,0.511,0.7,0.5,0.701,0.514,0.748,0.935,0.75,0.95,0.751,0.938,0.798,0.611,0.8,0.6,0.801,0.613,0.848,0.985,0.85,1,0.851,0.988,0.897,0.712,0.9,0.7,0.902,0.712,0.938,0.933,0.95,1,0.961,1,1,1,1,1"),delay:1,scrollTrigger:{trigger:t,start:"top bottom"},onComplete:function(){return y(t).addClass("visible")}})})};y(window).on("load",e),y(window).on("resize",function(){m()})}(jQuery);